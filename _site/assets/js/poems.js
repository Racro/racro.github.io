!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".poem-card");e.length>0&&e.forEach((function(t,n){t.addEventListener("focus",(function(){const e=t.getBoundingClientRect();(e.top<0||e.bottom>window.innerHeight)&&t.scrollIntoView({behavior:"smooth",block:"center"})})),t.addEventListener("keydown",(function(t){let o;const i=window.innerWidth>1280?4:window.innerWidth>900?3:window.innerWidth>600?2:1;switch(t.key){case"ArrowRight":t.preventDefault(),o=Math.min(n+1,e.length-1),e[o].focus();break;case"ArrowLeft":t.preventDefault(),o=Math.max(n-1,0),e[o].focus();break;case"ArrowDown":t.preventDefault(),o=Math.min(n+i,e.length-1),e[o].focus();break;case"ArrowUp":t.preventDefault(),o=Math.max(n-i,0),e[o].focus()}}))}));const t=document.querySelector(".back-link");t&&t.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));if(document.querySelector(".poem-body")){let o=!1;function i(){const e=window.innerHeight,t=document.documentElement.scrollHeight,n=window.pageYOffset||document.documentElement.scrollTop,i=t-e,r=Math.min(100,n/i*100);document.body.style.setProperty("--reading-progress",r+"%"),o=!1}window.addEventListener("scroll",(function(){o||(window.requestAnimationFrame(i),o=!0)})),i()}const n=document.createElement("div");if(n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.style.cssText="position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden;",document.body.appendChild(n),document.querySelector(".poem-reading")){const r=document.querySelector(".poem-title");r&&setTimeout((function(){n.textContent="\u0915\u0935\u093f\u0924\u093e \u0932\u094b\u0921 \u0939\u094b \u0917\u0908: "+r.textContent}),1e3)}}));window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(document.documentElement.style.scrollBehavior="auto")}();